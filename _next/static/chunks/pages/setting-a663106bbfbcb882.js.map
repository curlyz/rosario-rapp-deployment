{"version":3,"file":"static/chunks/pages/setting-a663106bbfbcb882.js","mappings":"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","sources":["webpack://_N_E/?452a","webpack://_N_E/./src/components/ui/separator.tsx","webpack://_N_E/./src/components/ui/card.tsx","webpack://_N_E/./src/components/config_Flowmeter.tsx","webpack://_N_E/./src/components/config_PID.tsx","webpack://_N_E/./src/components/config_Pressure.tsx","webpack://_N_E/./src/components/config_Keyboard.tsx","webpack://_N_E/./src/pages/setting.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/setting\",\n      function () {\n        return require(\"private-next-pages/setting.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/setting\"])\n      });\n    }\n  ","import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport useDeviceContext from \"@/hooks/useDeviceContext\";\nimport { useTranslation } from \"next-export-i18n\";\nimport { produce } from \"immer\";\nimport { PidStatusParameter } from \"@/gateway/pid\";\n\nimport { Banner, Modal, SliderField, Stack } from \"@buildo/bento-design-system\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\n\nimport {\n  Switch,\n  Divider,\n  LineChart, Column, Columns, NumberField,\n  Button\n} from \"@buildo/bento-design-system\";\n\nimport {\n  FaTemperatureHigh,\n} from \"react-icons/fa\";\nimport { ImPower } from \"react-icons/im\";\nimport { MdExpandLess, MdExpandMore, MdSettings } from \"react-icons/md\";\nimport { RxReset } from \"react-icons/rx\";\nimport { TbCircuitPushbutton } from \"react-icons/tb\";\nimport { cn } from '@/util';\n\n\n\n\nexport const FlowmeterConfigurationComponents = ({ index }: { index: number }) => {\n  const { connected , calibration, setCalibration} = useDeviceContext();\n\n  \n  const [chartData, setChartData] = useState(\n    new Array(100).fill({\n      temperature: 0,\n      power: 0,\n    })\n  );\n\n\n  const { t } = useTranslation()\n  const { flowmeterDisplay } = useDeviceContext()\n\n\n  const [isOpen, setIsOpen] = useState(false)\n  \n\n\n\n\n\n  const SettingComponents = (\n    <>\n    </>\n  );\n\n  const [settingToggle, setSettingToggle] = useState(true);\n  const toggleSettingPanel = () => {\n    setSettingToggle(!settingToggle);\n  };\n\n  const [real, setReal] = useState(flowmeterDisplay[index].flowCount);\n  const [maxValue, setMaxValue] = useState(1000)\n  const [simFlow, setSimFlow] = useState(calibration.fmSim[index])\n\n  useEffect(() => {\n    setReal(flowmeterDisplay[index].flowCount)\n\n  }, [flowmeterDisplay, index])\n\n\n  function handleCalibrate() {\n    if (real == 0) return\n    setMaxValue(Math.max(real * 2, 200))\n\n    setIsOpen(true)\n  }\n  function updateFlowmeterCalibration(e: number) {\n\n  }\n\n  function handleUpdateCalibration() {\n    var e = real\n    var newCalibration = (e / flowmeterDisplay[index].flowCount) * calibration.flowmeter[index]\n\n\n    console.log('calibration/ ', {\n      calibration,\n      suggestedValue: e,\n      previousValue: flowmeterDisplay[index].flowCount,\n      currentCalibration: calibration.flowmeter[index],\n      newCalibration: newCalibration\n    })\n\n    if (newCalibration < 0 || newCalibration > 1000) {\n      console.warn(\"Invalid calibation\")\n      return\n    }\n\n\n    setCalibration(produce(calibration, (draft) => {\n      draft.flowmeter[index] = newCalibration\n      draft.fmSim[index] = simFlow\n      return draft\n    }))\n\n  }\n\n  return (\n    <>\n      {isOpen && (\n        <Modal\n          size=\"small\"\n          title={t(\"Calibrate flowmeter\")}\n          onClose={() => setIsOpen(false)}\n          primaryAction={{\n            label: \"OK\",\n            onPress: () => {\n              setIsOpen(false);\n              handleUpdateCalibration()\n              // onChange(powe\n            },\n          }}\n          secondaryAction={{\n            label: \"Cancel\",\n            onPress: () => setIsOpen(false),\n          }}\n        >\n          <Stack space={8}>\n\n\n            <Banner\n              kind=\"informative\"\n              title={t(\"Notice\")}\n              description={t(\"This calibration process is to set the conversion between flowmeter pulses count with the actual total weight of water extracted, specify how much it is actually weight to update the conversion\")}\n              action={{\n                label: t(\"Learn more\"),\n                onPress: () => {\n                  window.open(\"https://www.google.com\");\n                },\n              }}\n            />\n\n            \n            <Columns space={4} align=\"center\">\n              <Column width={\"4/5\"}>\n\n                <SliderField\n                  type=\"single\"\n                  name=\"value\"\n                  label={t(\"Real weight (gram)\")}\n                  value={real}\n                  onChange={(e: number) => {\n                    updateFlowmeterCalibration(e)\n                    setReal(e)\n                  }}\n                  minValue={0}\n                  maxValue={maxValue}\n                  step={1}\n                />\n              </Column>\n              <Column width={\"1/5\"}>\n                <NumberField\n                  value={real}\n                  onChange={(e: number) => {  \n                    updateFlowmeterCalibration(e)\n                    setReal(e)\n                  }}\n                  label=\"Weight\"\n                  minValue={0}\n                  maxValue={500}\n                  step={1}\n                />\n              </Column>\n            </Columns>\n\n          \n\n            <Banner\n              kind=\"informative\"\n              title={t(\"Simulate flowrate\")}\n              description={t(\"For machine that doesn't have flowmeter, you can simulate the flowrate by setting the value below\")}\n            />\n\n\n            <SliderField\n              type=\"single\"\n              name=\"value\"\n              label={t(\"Simulatated flowrate (gram/s)\")}\n              value={simFlow}\n              onChange={(e: number) => {\n                setSimFlow(e)\n              }}\n              minValue={0}\n              maxValue={20}\n              step={1}\n            />\n          </Stack>\n        </Modal>\n      )}\n\n      \n\n\n\n\n      <Card className={cn(\n        \"w-auto border flex-grow bg-white h-full self-center hover:border-purple-700\",\n        flowmeterDisplay[index].flowRate > 0 ? \" text-green-900 border border-green-600\" : \"border-black border text-black\"\n      )}>\n        <CardHeader>\n          <div className=\"flex justify-between space-x-1 items-center\">\n            <CardTitle>{t('Group')} {index + 1}</CardTitle>\n            {/* <Button\n              onPress={handleCalibrate}\n              hierarchy=\"secondary\"\n              kind=\"outline\"\n              label={t('Calibrate')}\n              size=\"small\"\n              icon={() => <MdSettings />}\n            /> */}\n\n          <button\n            onClick={handleCalibrate}\n              style={{ borderRadius: '8px', border: '1px solid', padding: '8px' }}\n              className='text-back bg-white hover:bg-black hover:text-white'\n          >\n            <MdSettings className=\"\"/>\n          </button>\n          </div>\n          <Divider></Divider>\n\n          <CardDescription>\n            <div className=\"h-16  flex flex-col justify-evenly space-y-4 mt-6\">\n              {/* <LineChart\n                  hideLegend={false}\n                  hideXAxis={true}\n                  dataKey=\"name\"\n                  categories={[\"temperature\", \"power\", \"target\"]}\n                  disableAnimation={true}\n                  hideYAxis={true}\n                  hideTooltip={false}\n                  data={chartData}\n                />{\" \"} */}\n              <div>\n                <h1>{t('Flowrate ')}</h1>\n                <h1 className=\"text-xl\">{flowmeterDisplay[index].flowRate} gram/s</h1>\n              </div>\n              <div>\n                <h1>{t('Weight')}</h1>\n                <h1 className=\"text-xl\">{flowmeterDisplay[index].flowCount} gram</h1>\n              </div>\n            </div>\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {settingToggle ? (\n            <>\n              {SettingComponents}\n            </>\n          ) : null}\n        </CardContent>\n\n      </Card>\n\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Button, SliderField } from \"@buildo/bento-design-system\";\nimport { Divider } from \"@nextui-org/react\";\nimport { FaTemperatureHigh } from \"react-icons/fa\";\nimport { ImPower } from \"react-icons/im\";\nimport { MdExpandLess, MdExpandMore } from \"react-icons/md\";\nimport { RxReset } from \"react-icons/rx\";\nimport { TbCircuitPushbutton } from \"react-icons/tb\";\n\nimport useDeviceContext from \"@/hooks/useDeviceContext\";\nimport { LineChart, Switch } from \"@buildo/bento-design-system\";\nimport { produce } from \"immer\";\nimport { useTranslation } from \"next-export-i18n\";\nimport { PidStatusParameter } from \"@/gateway/pid\";\n\nexport const PidConfigurationComponents = ({ index }: { index: number }) => {\n  const { pidDisplay, calibration, setCalibration } = useDeviceContext();\n  const { connected } = useDeviceContext();\n\n\n  const [chartData, setChartData] = useState(\n    new Array(100).fill({\n      temperature: 0,\n      power: 0,\n    })\n  );\n\n  // const currentTemperature = chartData[-1]?.temperature || 0\n\n  const [currentTemperature, setCurrentTemperature] = useState(0)\n  useEffect(() => {\n    if (pidDisplay[index].powerSamples == undefined) return;\n    const draft: any[] = [];\n    for (var i = 0; i < pidDisplay[index].powerSamples.length; i++) {\n      draft.push({\n        power: pidDisplay[index].powerSamples[i],\n        temperature: Math.round(pidDisplay[index].temperatureSamples[i] * 10) / 10,\n        target: Math.round(calibration.pid[index].targetTemperature * 10) / 10,\n      });\n    }\n    console.log(\"update line draft\", draft)\n    setChartData(draft);\n    setCurrentTemperature(draft[draft.length - 1].temperature)\n  }, [pidDisplay, index, calibration])\n\n  const { t } = useTranslation()\n\n\n  const SettingComponents = (\n    <>\n      <SliderField\n        type=\"single\"\n        name=\"value\"\n        label={t(\"Temperature\")}\n        value={calibration.pid[index].targetTemperature}\n        onChange={(e: number) => {\n          setCalibration(\n            produce(calibration, (draft) => {\n              draft.pid[index].targetTemperature = e;\n              return draft\n            })\n          );\n        }}\n        minValue={0}\n        maxValue={200}\n        step={1}\n        disabled={!connected}\n      />\n      {/* <SliderField\n        type=\"single\"\n        name=\"value\"\n        label={t(\"Active Range\")}\n        value={pidState[index].activeRange}\n        onChange={(e: number) => {\n          setPidState(\n            produce(pidState, (draft) => {\n              draft[index].activeRange = e;\n              return draft\n            })\n          );\n        }}\n        minValue={0}\n        maxValue={10}\n        step={1}\n        disabled={!connected}\n      /> */}\n      {/* <SliderField\n        type=\"single\"\n        name=\"value\"\n        label=\"Proportional\"\n        value={pidState[index].proportional}\n        onChange={(e: number) => {\n          setPidState(\n            produce(pidState, (draft) => {\n              draft[index].proportional = e;\n            })\n          );\n        }}\n        minValue={0}\n        maxValue={10}\n        step={0.1}\n        disabled={!connected}\n      />\n\n      <SliderField\n        type=\"single\"\n        name=\"value\"\n        label=\"integral\"\n        value={pidState[index].integral}\n        onChange={(e: number) => {\n          setPidState(\n            produce(pidState, (draft) => {\n              draft[index].integral = e;\n            })\n          );\n        }}\n        minValue={0}\n        maxValue={1}\n        step={0.1}\n        disabled={!connected}\n      />\n\n      <SliderField\n        type=\"single\"\n        name=\"value\"\n        label=\"Derivative\"\n        value={pidState[index].derivative}\n        onChange={(e: number) => {\n          setPidState(\n            produce(pidState, (draft) => {\n              draft[index].derivative = e;\n            })\n          );\n        }}\n        minValue={0}\n        maxValue={10}\n        step={0.1}\n        disabled={!connected}\n      /> */}\n    </>\n  );\n\n  const [settingToggle, setSettingToggle] = useState(true);\n  const toggleSettingPanel = () => {\n    setSettingToggle(!settingToggle);\n  };\n\n\n\n  const SettingButtons = (\n    <div className=\"flex flex-wrap justify-center space-x-1 space-y-1 mb-4\">\n      {/* <Button\n        onPress={() => {}}\n        hierarchy=\"secondary\"\n        kind=\"outline\"\n        label={\"90%\"}\n        size=\"small\"\n        icon={() => <ImPower />}\n      ></Button>\n      <Button\n        onPress={() => {}}\n        hierarchy=\"secondary\"\n        kind=\"outline\"\n        label={\"90*C\"}\n        size=\"small\"\n        icon={() => <FaTemperatureHigh />}\n      ></Button> */}\n\n\n      <Button\n        onPress={() => { }}\n        hierarchy=\"primary\"\n        kind=\"outline\"\n        label=\"Test\"\n        size=\"small\"\n        icon={() => <TbCircuitPushbutton />}\n      ></Button>\n      <Button\n        onPress={() => {\n          setCalibration(produce(calibration, draft => {\n            {\n              draft.pid[index].targetTemperature = 110;\n              draft[index].activeRange = 2;\n              draft[index].proportional = 3.2;\n              draft[index].integral = 0.2;\n              draft[index].derivative = 5;\n            }\n          }))\n        }}\n        hierarchy=\"danger\"\n        kind=\"outline\"\n        size=\"small\"\n        label=\"Reset\"\n        icon={() => <RxReset />}\n      ></Button>\n    </div>\n  );\n\n  return (\n    <Card className=\"w-auto\">\n      <CardHeader>\n        <div className=\"flex justify-between\">\n          <CardTitle>{t('Channel')} {index + 1}</CardTitle>\n          <Switch\n            value={calibration.pid[index].isActive}\n            onChange={(e: boolean) => {\n              setCalibration(\n                produce(calibration, (draft) => {\n                  draft.pid[index].isActive = e;\n                  return draft\n                }),\n              );\n            }}\n            // disabled={!connected}\n            label={t('Active')}\n          />\n        </div>\n        <Divider></Divider>\n\n        <CardDescription>\n          {calibration.pid[index].isActive ? (\n            <>\n              <Card className=\"h-40 bg-white\">\n                <div className=\"relative z-10 w-full h-full\">\n\n                  <div\n                    className=\"absolute inset-0 z-20 flex flex-row  items-left text-gray-200\"\n                  >\n                    <h1 className=\"text-9xl\">{currentTemperature}</h1>\n                    <h1 className=\"text-xl\">°C</h1>\n                  </div>\n\n                  <div className=\"absolute inset-0 z-10\">\n                    <LineChart\n                      hideLegend={false}\n                      hideXAxis={true}\n                      dataKey=\"name\"\n                      categories={[\"temperature\", \"power\", \"target\"]}\n                      disableAnimation={true}\n                      hideYAxis={true}\n                      hideTooltip={true}\n                      data={chartData}\n                    />\n                  </div>\n\n                </div>\n              </Card>\n            </>\n          ) : (\n            <>{t('This PID channel is currently disabled')}</>\n          )}\n        </CardDescription>\n      </CardHeader>\n      {calibration.pid[index].isActive ? (\n        <>\n          <CardContent>\n            {settingToggle ? (\n              <>\n                {SettingButtons}\n\n                {/* <ProgressBar\n                  kind=\"continuous\"\n                  label=\"Power\"\n                  value={pidDisplay[index].currentPower}\n                  maxValue={100}\n                />\n                <Spacer />\n                <Progress\n                  label=\"Temperature\"\n                  size=\"md\"\n                  showValueLabel={true}\n                  valueLabel=\"C\"\n                  color=\"success\"\n                  isStriped\n                  value={pidDisplay[index].currentTemperature}\n                  maxValue={200}\n                  isDisabled={!pidState[index].isActive}\n                />\n */}\n                {SettingComponents}\n              </>\n            ) : null}\n          </CardContent>\n          <CardFooter onClick={toggleSettingPanel} className=\"justify-center\">\n            {settingToggle ? <MdExpandLess /> : <MdExpandMore />}\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n\n};\n","import { useEffect, useState } from \"react\";\n\nimport {\n    Card,\n    CardContent,\n    CardDescription,\n    CardFooter,\n    CardHeader,\n    CardTitle,\n} from \"@/components/ui/card\";\nimport { Button, SliderField, Banner, Modal , Stack} from \"@buildo/bento-design-system\";\nimport { Divider } from \"@nextui-org/react\";\nimport { FaTemperatureHigh } from \"react-icons/fa\";\nimport { ImPower } from \"react-icons/im\";\nimport { MdExpandLess, MdExpandMore, MdSettings } from \"react-icons/md\";\nimport { RxReset } from \"react-icons/rx\";\nimport { TbCircuitPushbutton } from \"react-icons/tb\";\n\nimport useDeviceContext from \"@/hooks/useDeviceContext\";\nimport { LineChart, Switch } from \"@buildo/bento-design-system\";\nimport { produce } from \"immer\";\nimport { useTranslation } from \"next-export-i18n\";\nimport { PidStatusParameter } from \"@/gateway/pid\";\nimport { FaCompressArrowsAlt } from \"react-icons/fa\";\nimport { cn } from \"@/util\";\n\nexport const PressureConfigurationComponents = ({ index }: { index: number }) => {\n    const { pidState, setPidState, pidDisplay , calibration, setCalibration, pressure, setPressure} = useDeviceContext();\n    const { connected } = useDeviceContext();\n    const { t } = useTranslation()\n\n\n\n    const [isOpen, setIsOpen] = useState(false)\n\n\n    const [settingToggle, setSettingToggle] = useState(true);\n    const toggleSettingPanel = () => {\n        setSettingToggle(!settingToggle);\n    };\n\n\n    function handleUpdateCalibration() {\n\n    }\n    function handleCalibrate() {\n        \n    }\n\n    return (\n        <>\n            {isOpen && (\n                <Modal\n                    size=\"small\"\n                    title={t(\"Pressure sensor\")}\n                    onClose={() => setIsOpen(false)}\n                    primaryAction={{\n                        label: \"OK\",\n                        onPress: () => {\n                            setIsOpen(false);\n                            handleUpdateCalibration()\n                            // onChange(powe\n                        },\n                    }}\n                    secondaryAction={{\n                        label: \"Cancel\",\n                        onPress: () => setIsOpen(false),\n                    }}\n                >\n                    <Stack space={8}>\n\n\n                        <Banner\n                            kind=\"informative\"\n                            title={t(\"Notice\")}\n                            description={t(\"There are many type of pressure sensor, each will have a different measuring range. What is the range of your pressure sensor in MPa ?\")}\n                            action={{\n                                label: t(\"Learn more\"),\n                                onPress: () => {\n                                    window.open(\"https://www.google.com\");\n                                },\n                            }}\n                        />\n\n\n                        <SliderField\n                            type=\"single\"\n                            name=\"value\"\n                            label={t(\"Max range (MPa)\")}\n                            value={calibration.pressure[index]}\n                            onChange={(e: number) => {\n                                // updateFlowmeterCalibration(e)\n                                // setReal(e)\n                                setCalibration(produce(calibration, draft => {\n                                    draft.pressure[index] = e\n                                }))\n                            }}\n                            minValue={0}\n                            maxValue={3.2}\n                            step={0.1}\n                        />\n                    </Stack>\n                </Modal>\n            )}\n\n\n\n\n\n            <Card className={cn(\n                \"w-auto border flex-grow bg-white h-full self-center hover:border-purple-700\",\n                // flowmeterDisplay[index].flowRate > 0 ? \" text-green-900 border border-green-600\" : \"border-black border text-black\"\n            )}>\n                <CardHeader>\n                    <div className=\"flex justify-between space-x-1 items-center\">\n                        <CardTitle>{t('Group')} {index + 1}</CardTitle>\n                        {/* <Button\n              onPress={handleCalibrate}\n              hierarchy=\"secondary\"\n              kind=\"outline\"\n              label={t('Calibrate')}\n              size=\"small\"\n              icon={() => <MdSettings />}\n            /> */}\n\n                        <button\n                            onClick={() => {\n                                setIsOpen(true)\n                            }}\n                            style={{ borderRadius: '8px', border: '1px solid', padding: '8px' }}\n                            className='text-back bg-white hover:bg-black hover:text-white'\n                        >\n                            <MdSettings className=\"\" />\n                        </button>\n                    </div>\n                    <Divider></Divider>\n\n                    <CardDescription>\n                        <div className=\"h-8  flex flex-col justify-evenly space-y-4 mt-6\">\n                            {/* <LineChart\n                  hideLegend={false}\n                  hideXAxis={true}\n                  dataKey=\"name\"\n                  categories={[\"temperature\", \"power\", \"target\"]}\n                  disableAnimation={true}\n                  hideYAxis={true}\n                  hideTooltip={false}\n                  data={chartData}\n                />{\" \"} */}\n                            <div>\n                                <h1>{t('Pressure ')}</h1>\n                                <h1 className=\"text-3xl\">{pressure[index]} bar</h1>\n                            </div>\n                        </div>\n                    </CardDescription>\n                </CardHeader>\n                <CardContent>\n                </CardContent>\n\n            </Card>\n        </>\n    );\n\n};\n","import { useEffect, useState } from \"react\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Button, SliderField, Banner } from \"@buildo/bento-design-system\";\nimport { Divider } from \"@nextui-org/react\";\nimport { FaTemperatureHigh } from \"react-icons/fa\";\nimport { ImPower } from \"react-icons/im\";\nimport { MdExpandLess, MdExpandMore } from \"react-icons/md\";\nimport { RxReset } from \"react-icons/rx\";\nimport { TbCircuitPushbutton } from \"react-icons/tb\";\n\nimport useDeviceContext from \"@/hooks/useDeviceContext\";\nimport { LineChart, Switch } from \"@buildo/bento-design-system\";\nimport { produce } from \"immer\";\nimport { useTranslation } from \"next-export-i18n\";\nimport { PidStatusParameter } from \"@/gateway/pid\";\n\nexport const KeyboardConfigurationComponents = ({ index }: { index: number }) => {\n  const { t } = useTranslation()\n  const [settingToggle, setSettingToggle] = useState(true);\n  const toggleSettingPanel = () => {\n    setSettingToggle(!settingToggle);\n  };\n\n  const { calibration, setCalibration } = useDeviceContext()\n\n\n\n\n\n\n\n\n  return (\n    <Card className=\"w-auto\">\n      <CardHeader>\n        <div className=\"flex justify-between\">\n          <CardTitle>{t('Group')} {index + 1}</CardTitle>\n        </div>\n        <Divider></Divider>\n\n        <CardDescription>\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"flex flex-col gap-4\">\n\n          \n\n        <Banner\n          kind={calibration.dose[index].duration == 0 ? \"positive\": \"warning\"}\n          title={t(\"Current behaviour\")}\n          description={calibration.dose[index].duration == 0 ? \"Dispense water at group head\": `Dispense hot water valve for ${calibration.dose[index].duration} second, group head will NOT open`}\n        />\n\n\n        \n        <SliderField\n          type=\"single\"\n          name=\"value\"\n          label={t(\"Dose duration (seconds)\")}\n          value={calibration.dose[index].duration}\n          onChange={(e: number) => {\n            setCalibration(produce(calibration, draft => {\n                draft.dose[index].duration = e\n            }))\n          }}\n          minValue={0}\n          maxValue={10}\n          step={0.5}\n        />\n\n      </CardContent>\n      <CardFooter onClick={toggleSettingPanel} className=\"justify-center\">\n        {/* {settingToggle ? <MdExpandLess /> : <MdExpandMore />} */}\n      </CardFooter>\n    </Card>\n  );\n\n};\n","\"use client\";\n\nimport { Banner, Body, Inset, Modal, TextField } from \"@buildo/bento-design-system\";\nimport { FaDroplet, FaTemperatureHigh } from \"react-icons/fa6\";\nimport { GiManualMeatGrinder } from \"react-icons/gi\";\n\nimport { FlowmeterConfigurationComponents } from \"@/components/config_Flowmeter\";\nimport { GrinderSettingComponent } from \"@/components/config_Grinder\";\nimport { PidConfigurationComponents } from \"@/components/config_PID\";\nimport useDeviceContext from \"@/hooks/useDeviceContext\";\nimport { Card, CardBody, CardFooter, CardHeader } from \"@nextui-org/react\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  MdKeyboardArrowDown,\n  MdKeyboardArrowRight,\n  MdKeyboardArrowUp,\n} from \"react-icons/md\";\n\nimport { CgCompressRight } from \"react-icons/cg\";\n\nimport { FaBalanceScale } from \"react-icons/fa\";\nimport { AiFillSound } from \"react-icons/ai\";\nimport { FaLightbulb, FaMobileAlt } from \"react-icons/fa\";\nimport { RiKeyboardFill } from \"react-icons/ri\";\nimport { FaWifi } from \"react-icons/fa\";\nimport { FaDisplay } from \"react-icons/fa6\";\nimport Layout from \"./layout\";\n\nimport { useTranslation } from \"next-export-i18n\";\nimport { PressureConfigurationComponents } from \"@/components/config_Pressure\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { KeyboardConfigurationComponents } from \"@/components/config_Keyboard\";\n\nimport { produce } from 'immer'\nimport calibration, { setCalibration } from '../gateway/calibration';\nconst CalibrateButton = ({ onClick }: { onClick: () => void }) => {\n  return (\n    <button\n      onClick={(e) => {\n        e.stopPropagation();\n        onClick();\n      }}\n      className=\"flex h-8 w-fit items-center justify-center rounded-xl border-2 border-white p-4 text-white opacity-20\"\n    >\n      Calibrate\n    </button>\n  );\n};\n\nconst PidSettings = () => {\n  const { t } = useTranslation();\n  const [expanded, setExpanded] = useLocalStorage(\"pidSettings\", false);\n  const [isOpen, setModelOpen] = useState(false);\n\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <Card\n      ref={cardRef}\n      className={\n        \"w-full max-w-2xl transform bg-gradient-to-r from-white to-white transition duration-500 select-none\"\n      }\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaTemperatureHigh className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Heater\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <div className=\"p-4 gap-4\">\n          <Banner\n            kind=\"positive\"\n            title=\"What is Heater ?\"\n            description=\"There are 3 channel of PID-enabled heater. You can configure each channel with temperature setpoint. We support the following type of sensor: DS18B20, NTC(10K), NTC(100K). DS18B20 is strongly recommended\"\n          />\n\n          <div className=\"flex w-full flex-col justify-center gap-4 mt-4\">\n            <PidConfigurationComponents index={0} />\n            <PidConfigurationComponents index={1} />\n            <PidConfigurationComponents index={2} />\n          </div>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </div>\n      ) : null}\n\n      {isOpen && (\n        <Modal\n          title=\"Calibrate flowmeter\"\n          size=\"small\"\n          onClose={() => setModelOpen(false)}\n          primaryAction={{\n            label: \"OK\",\n            onPress: () => setModelOpen(false),\n          }}\n          secondaryAction={{\n            label: \"Cancel\",\n            onPress: () => setModelOpen(false),\n          }}\n          autoFocus={false}\n        >\n          <Inset space={4}>\n            <Body size=\"medium\">Content</Body>\n          </Inset>\n        </Modal>\n      )}\n    </Card>\n  );\n};\n\nconst FlowmeterSettings = () => {\n  const [expanded, setExpanded] = useLocalStorage(\"flowmeterSettings\", false);\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r bg-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaDroplet className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Flowmeter\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <div className=\"p-4 space-y-4\">\n          <Banner\n            kind=\"positive\"\n            title=\"What is flowmeter ?\"\n            description=\"Flowmeter is used to measure how much water is going to the puck, note that this is not much coffee you get because there is always water losses inside the puck, or simply released\"\n          />\n\n          <Banner\n            kind=\"informative\"\n            title=\"How to calibrate ?\"\n            description=\"First, place a scale underneath each group, press any water button. Water will come out, wait until it reach around 100 grams, hit stop. Then click the Calibrate button and input the ACTUAL weight\"\n            action={{\n              label: \"See Video\",\n              onPress: () => {\n\n              }\n            }}\n          />\n\n\n\n          <div className=\"flex w-full flex-row flex-wrap justify-evenly  h-fit gap-4\">\n            <FlowmeterConfigurationComponents index={0} />\n            <FlowmeterConfigurationComponents index={1} />\n            <FlowmeterConfigurationComponents index={2} />\n          </div>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </div>\n      ) : null}\n    </Card>\n  );\n};\nconst PressureSettings = () => {\n  const [expanded, setExpanded] = useLocalStorage(\"pressureSettings\", false);\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n    console.log(\"toggle expand\");\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r from-white to-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <CgCompressRight className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Pressure\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <div className=\"p-4 space-y-4\">\n          <Banner\n            kind=\"positive\"\n            title=\"What is Pressure sensor ?\"\n            description=\"Pressure sensor is used to measure the pressure at puck, this reflect. There is 2 channel on ROSARIO. To ensure every shot of espresso are the same, the machine will also check if the pressure profiling match it's previous and display error. Normally due to wrong coffee compression method\"\n          />\n\n          <Banner\n            kind=\"informative\"\n            title=\"How to calibrate ?\"\n            description=\"There are lots of pressure sensor type with different ranges. The highest pressure in coffee machine is around 12 bar (1.2Mpa) so you should get one above this limit and specify the range below.\"\n            action={{\n              label: \"See Video\",\n              onPress: () => {\n\n              }\n            }}\n          />\n\n          <div className=\"flex w-full flex-row flex-wrap justify-evenly  h-fit gap-4\">\n            <PressureConfigurationComponents index={0} />\n            <PressureConfigurationComponents index={1} />\n            <PressureConfigurationComponents index={2} />\n            <PressureConfigurationComponents index={3} />\n          </div>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </div>\n      ) : null}\n    </Card>\n  );\n};\nconst GrinderSettings = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"grinderSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    // setExpanded(!expanded);\n    console.log(\"toggle expand\");\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (!expanded && cardRef.current) {\n      // cardRef.current.scrollIntoView({ behavior: \"smooth\" });\n      const navBarHeight = parseInt(\n        getComputedStyle(document.documentElement).getPropertyValue(\n          \"--navbar-height\",\n        ),\n        10,\n      );\n      const topPosition =\n        cardRef.current.getBoundingClientRect().top - navBarHeight;\n      // window.scrollTo({ top: topPosition, behavior: \"smooth\" });\n    }\n  }, [expanded]);\n\n  const handleAddGrinder = () => {\n    console.log(\"add ginder\");\n  };\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r from-white to-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <GiManualMeatGrinder className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Grinder\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full flex-col justify-center space-y-4 py-4\">\n            {/* <GrinderConfigurationComponent index={0} />\n            <GrinderConfigurationComponent index={1} />\n            <GrinderConfigurationComponent index={2} /> */}\n\n            {grinderSettings.map((item, index) => {\n              console.log(\"Grinder/ create with\", { item, index });\n              return <GrinderSettingComponent key={index} index={index} />;\n            })}\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\n\n\nconst ScaleSettings = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"scaleSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  const handleAddGrinder = () => {\n    console.log(\"add ginder\");\n  };\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaBalanceScale className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Scale\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full flex-col justify-center space-y-4 py-4\">\n            {/* <GrinderConfigurationComponent index={0} />\n            <GrinderConfigurationComponent index={1} />\n            <GrinderConfigurationComponent index={2} /> */}\n\n            {grinderSettings.map((item, index) => {\n              console.log(\"Grinder/ create with\", { item, index });\n              return <GrinderSettingComponent key={index} index={index} />;\n            })}\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\nconst SoundSettings = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"soundSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    // setExpanded(!expanded);\n    console.log(\"toggle expand\");\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (!expanded && cardRef.current) {\n      // cardRef.current.scrollIntoView({ behavior: \"smooth\" });\n      const navBarHeight = parseInt(\n        getComputedStyle(document.documentElement).getPropertyValue(\n          \"--navbar-height\",\n        ),\n        10,\n      );\n      const topPosition =\n        cardRef.current.getBoundingClientRect().top - navBarHeight;\n      // window.scrollTo({ top: topPosition, behavior: \"smooth\" });\n    }\n  }, [expanded]);\n\n  const handleAddGrinder = () => {\n    console.log(\"add ginder\");\n  };\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r from-teal-600 to-green-600 transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <AiFillSound className=\"ml-4 text-white\" />\n          <h2 className=\"mx-4 font-bold text-white\">{t(\"Sound\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-white\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-white\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full flex-col justify-center space-y-4 py-4\">\n            {/* <GrinderConfigurationComponent index={0} />\n            <GrinderConfigurationComponent index={1} />\n            <GrinderConfigurationComponent index={2} /> */}\n\n            {grinderSettings.map((item, index) => {\n              console.log(\"Grinder/ create with\", { item, index });\n              return <GrinderSettingComponent key={index} index={index} />;\n            })}\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-white\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\n\nconst LightSetting = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"lightSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    // setExpanded(!expanded);\n    console.log(\"toggle expand\");\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (!expanded && cardRef.current) {\n      // cardRef.current.scrollIntoView({ behavior: \"smooth\" });\n      const navBarHeight = parseInt(\n        getComputedStyle(document.documentElement).getPropertyValue(\n          \"--navbar-height\",\n        ),\n        10,\n      );\n      const topPosition =\n        cardRef.current.getBoundingClientRect().top - navBarHeight;\n      // window.scrollTo({ top: topPosition, behavior: \"smooth\" });\n    }\n  }, [expanded]);\n\n  const handleAddGrinder = () => {\n    console.log(\"add ginder\");\n  };\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r from-red-600  to-red-400 transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaLightbulb className=\"ml-4 text-white\" />\n          <h2 className=\"mx-4 font-bold text-white\">{t(\"Light\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-white\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-white\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full flex-col justify-center space-y-4 py-4\">\n            {/* <GrinderConfigurationComponent index={0} />\n            <GrinderConfigurationComponent index={1} />\n            <GrinderConfigurationComponent index={2} /> */}\n\n            {grinderSettings.map((item, index) => {\n              console.log(\"Grinder/ create with\", { item, index });\n              return <GrinderSettingComponent key={index} index={index} />;\n            })}\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-white\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\n\nconst KeyboardSettings = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"keyboardSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-r bg-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <RiKeyboardFill className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Keyboard\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full flex-col justify-center space-y-4 py-4\">\n            <Banner\n              kind=\"informative\"\n              title=\"Customize the behaviour\"\n              description=\"In most coffee machine, there is a group button that normally will just dispense hot water. This button can also be configure to control the hot water line. You can change that behaviour here\"\n            />\n\n\n\n            {/* <GrinderConfigurationComponent index={0} />\n            <GrinderConfigurationComponent index={1} />\n            <GrinderConfigurationComponent index={2} /> */}\n\n            <KeyboardConfigurationComponents index={0} />\n            <KeyboardConfigurationComponents index={1} />\n            <KeyboardConfigurationComponents index={2} />\n\n\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\n\nconst NetworkSettings = () => {\n  const { locale, locales, defaultLocale } = useRouter();\n  const [expanded, setExpanded] = useLocalStorage(\"networkSettings\", false);\n  const { grinderSettings } = useDeviceContext();\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n    console.log(\"toggle expand\");\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n  const { calibration, setCalibration } = useDeviceContext()\n\n  async function handlePairPhone() {\n    console.log(\"pair with phone\")\n    \n    // create a random string of 64 letter\n    const token = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    console.log(\"token\", token)\n\n    setCalibration(produce(calibration, draft => {\n      draft.network.token = token\n    }))\n\n  }\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-tr bg-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaWifi className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Network\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n\n\n\n          <CardBody className=\"flex w-full justify-center space-y-4 p-4\">\n\n            <Banner\n              kind=\"positive\"\n              title={t(\"Notice\")}\n              description={t(\"This will enable Internet connection for this machine, allowing it to display time, tracking the coffee quality by comparing flowmeter charts, notify business owner with daily report, ...\")}\n              action={{\n                label: t(\"Learn more\"),\n                onPress: () => {\n                  window.open(\"https://www.google.com\");\n                },\n              }}\n            />\n\n            <div className=\" flex flex-row flex-grow justify-between w-full gap-4 rounded-xl p-4 border border-black\">\n              <div className=\"flex flex-col flex-grow\">\n                <div className=\"w-full flex-grow\">\n                  <TextField\n                    name=\"Wifi\"\n                    label=\"Wifi\"\n                    placeholder=\"\"\n                    value={calibration.network.ssid || \"\"}\n                    onChange={(e) => setCalibration(produce(calibration, draft => {\n                      draft.network.ssid = e\n                    }))}\n                  />\n\n                </div>\n                <div className=\"w-full flex-grow\">\n                  <TextField\n                    name=\"Password\"\n                    label=\"Password\"\n                    placeholder=\"\"\n                    value={calibration.network.password || \"\"}\n                    onChange={(e) => setCalibration(produce(calibration, draft => {\n                      draft.network.password = e\n                    }))}\n                    type=\"password\"\n                  />\n                </div>\n\n              </div>\n\n              <button\n                className=\" bg-gradient-to-r from-green-500 to-blue-500  text-white font-bold py-2 px-4  flex items-center justify-center gap-2 border border-white rounded-xl mt-6 hover:border-black\"\n                onClick={async () => {\n                  await handlePairPhone()\n                }}\n              >\n                  <FaMobileAlt className=\"text-xl\" />\n                  {t(\"Pair with this Phone\")}\n                  \n                </button>\n\n\n            </div>\n            {/* <TextField\n              name=\"Token\"\n              label=\"Access Token\"\n              placeholder=\"\"\n              value={calibration.network.token || \"\"}\n              onChange={(e) => setCalibration(produce(calibration, draft => {\n                draft.network.token = e\n              }))}\n              hint=\"ANTLRXXXXXXXX\"\n            /> */}\n            <Separator />\n\n\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\nconst DisplaySetting = () => {\n  const [expanded, setExpanded] = useLocalStorage(\"displaySettings\", false);\n  const { t } = useTranslation()\n  const toggleExpand = () => {\n    setExpanded(!expanded);\n  };\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  const { calibration, setCalibration } = useDeviceContext()\n\n  return (\n    <Card\n      ref={cardRef}\n      className=\"w-full max-w-2xl transform bg-gradient-to-tr bg-white transition duration-500 select-none\"\n    >\n      <CardHeader\n        className=\"flex h-16 flex-row items-center justify-between\"\n        onClick={toggleExpand}\n      >\n        <div className=\"flex items-center\">\n          <FaDisplay className=\"ml-4 text-black\" />\n          <h2 className=\"mx-4 font-bold text-black\">{t(\"Display\")}</h2>\n        </div>\n        {expanded ? (\n          <>\n            <MdKeyboardArrowDown className=\"mr-4 text-black\" />\n          </>\n        ) : (\n          <MdKeyboardArrowRight className=\"mr-4 text-black\" />\n        )}\n      </CardHeader>\n      {expanded ? (\n        <>\n          <CardBody className=\"flex w-full justify-center space-y-4 p-8\">\n\n            <Banner\n              kind=\"informative\"\n              title={t(\"Notice\")}\n              description={t(\"There is 2 line on LCD display, each line has maximum width of 16 characters, you can customize the content of each line here but only English character is supported\")}\n              action={{\n                label: t(\"Learn more\"),\n                onPress: () => {\n                  window.open(\"https://www.google.com\");\n                },\n              }}\n            />\n\n            <div className=\"flex flex-row justify-between w-full gap-4\">\n\n              <div className=\"w-full flex-grow\">\n                <TextField\n                  name=\"Line 1\"\n                  label=\"Display - Line 1\"\n                  placeholder=\"\"\n                  value={calibration.display.line1 || \"\"}\n                  onChange={(e) => setCalibration(produce(calibration, draft => {\n                    draft.display.line1 = e\n                  }))}\n                />\n\n              </div>\n              <div className=\"w-full flex-grow\">\n                <TextField\n                  name=\"Line 2\"\n                  label=\"Display - Line 2\"\n                  placeholder=\"\"\n                  value={calibration.display.line2 || \"\"}\n                  onChange={(e) => setCalibration(produce(calibration, draft => {\n                    draft.display.line2 = e\n                  }))}\n                />\n\n\n              </div>\n            </div>\n            <Separator />\n\n\n          </CardBody>\n          <CardFooter\n            onClick={toggleExpand}\n            className=\"align-center justify-center\"\n          >\n            <MdKeyboardArrowUp className=\"m-4 text-black\" />\n          </CardFooter>\n        </>\n      ) : null}\n    </Card>\n  );\n};\n\n\nexport const SettingsPage = () => {\n  return (\n    <Layout>\n      <div className=\" flex flex-col items-center  p-8 space-y-4\">\n        <PidSettings />\n        <FlowmeterSettings />\n        <PressureSettings />\n        <KeyboardSettings />\n        <NetworkSettings />\n        <DisplaySetting />\n        {/* <GrinderSettings />\n        <ScaleSettings /> */}\n      </div>\n    </Layout>\n  );\n};\n\nexport default SettingsPage;  \n"],"names":["window","__NEXT_P","push","Separator","React","ref","className","orientation","decorative","props","SeparatorPrimitive","cn","displayName","Card","div","CardHeader","CardTitle","h3","CardDescription","p","CardContent","CardFooter","FlowmeterConfigurationComponents","index","connected","calibration","setCalibration","useDeviceContext","chartData","setChartData","useState","Array","fill","temperature","power","t","useTranslation","flowmeterDisplay","isOpen","setIsOpen","SettingComponents","settingToggle","setSettingToggle","real","setReal","flowCount","maxValue","setMaxValue","simFlow","setSimFlow","fmSim","useEffect","Modal","size","title","onClose","primaryAction","label","onPress","e","newCalibration","flowmeter","console","log","suggestedValue","previousValue","currentCalibration","warn","produce","draft","handleUpdateCalibration","secondaryAction","Stack","space","Banner","kind","description","action","open","Columns","align","Column","width","SliderField","type","name","value","onChange","minValue","step","NumberField","flowRate","button","onClick","Math","max","style","borderRadius","border","padding","MdSettings","Divider","h1","PidConfigurationComponents","pidDisplay","currentTemperature","setCurrentTemperature","undefined","powerSamples","i","length","round","temperatureSamples","target","pid","targetTemperature","disabled","SettingButtons","Button","hierarchy","icon","TbCircuitPushbutton","activeRange","proportional","integral","derivative","RxReset","Switch","isActive","LineChart","hideLegend","hideXAxis","dataKey","categories","disableAnimation","hideYAxis","hideTooltip","data","MdExpandLess","MdExpandMore","PressureConfigurationComponents","pidState","setPidState","pressure","setPressure","KeyboardConfigurationComponents","dose","duration","PidSettings","expanded","setExpanded","useLocalStorage","setModelOpen","toggleExpand","cardRef","useRef","FaTemperatureHigh","h2","MdKeyboardArrowDown","MdKeyboardArrowRight","MdKeyboardArrowUp","autoFocus","Inset","Body","FlowmeterSettings","FaDroplet","PressureSettings","CgCompressRight","KeyboardSettings","locale","locales","defaultLocale","useRouter","grinderSettings","RiKeyboardFill","CardBody","NetworkSettings","FaWifi","TextField","placeholder","network","ssid","password","async","token","random","toString","substring","handlePairPhone","FaMobileAlt","DisplaySetting","FaDisplay","display","line1","line2","SettingsPage","Layout"],"sourceRoot":""}