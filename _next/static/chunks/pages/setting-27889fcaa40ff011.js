(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{45824:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setting",function(){return t(97402)}])},97402:function(e,s,t){"use strict";t.r(s),t.d(s,{SettingsPage:function(){return E},default:function(){return _}});var n=t(85893),l=t(80907),a=t(86204),r=t(71054),i=t(65058);const c=e=>{let{index:s}=e;const{}=(0,i.Z)();return(0,n.jsx)(l.eBu,{space:4,children:(0,n.jsxs)("div",{className:"flex h-fit  w-fit flex-grow flex-col items-center space-y-3 rounded-xl border p-4",children:[(0,n.jsx)("h1",{className:"text-4xl text-white",children:2}),(0,n.jsx)("h1",{className:"text-zinc-100",children:"grasm"})]})})};var o=t(93513),x=t(30080),d=t(19151);const m=e=>{let{key:s,index:t}=e;const{grinderSettings:r,setGrinderSettings:c}=(0,i.Z)();return console.log("Grinder/ create ",s),(0,n.jsxs)("div",{className:"flex flex-col  space-y-4 rounded-xl bg-white p-4",children:[(0,n.jsx)(l.nvn,{name:"ingredient",label:"Ingredient",placeholder:"What is the coffee bean ?",value:r[t].name,onChange:e=>{c((0,o.Uy)(r,(s=>{s[t].name=e})))}}),(0,n.jsx)("div",{className:"flex flex-grow flex-row justify-stretch space-x-4",children:(0,n.jsxs)(l.oeA,{space:8,children:[(0,n.jsx)(l.sgG,{width:"4/5",children:(0,n.jsx)(l.mgC,{value:r[t].connectionType,onChange:e=>{c((0,o.Uy)(r,(s=>{s[t].connectionType=e})))},name:"connectionType",label:"Connection",placeholder:"How is the grinder connected ?",options:[{value:"wire",label:"Wire",kind:"two-line",secondLine:"Direct wiring using the PID port"},{value:"ble",label:"Bluetooth",kind:"two-line",secondLine:"Pair to a Bluetooth scale"}]})}),(0,n.jsx)(l.sgG,{width:"1/5",children:(0,n.jsx)(l.Ki0,{name:"ID",value:r[t].connectionId,onChange:e=>{c((0,o.Uy)(r,(s=>{s[t].connectionId=e})))},label:"ID"})})]})}),(0,n.jsxs)("div",{className:"my-4 flex flex-row space-x-4",children:[(0,n.jsx)(l.zxk,{label:"Calibrate",onPress:()=>{},hierarchy:"primary",kind:"outline",icon:()=>(0,n.jsx)(a.mdD,{})}),(0,n.jsx)(l.zxk,{label:"Test",onPress:()=>{},hierarchy:"primary",kind:"outline",icon:()=>(0,n.jsx)(d.WuV,{})}),(0,n.jsx)(l.zxk,{label:"Remove",onPress:()=>{},hierarchy:"danger",kind:"outline",icon:()=>(0,n.jsx)(x.ZkW,{})})]})]})};var u=t(67294),h=t(23482);const j=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,h.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})}));j.displayName="Card";const f=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,h.cn)("flex flex-col space-y-1.5 p-6",t),...l})}));f.displayName="CardHeader";const g=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("h3",{ref:s,className:(0,h.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})}));g.displayName="CardTitle";const p=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("p",{ref:s,className:(0,h.cn)("text-sm text-muted-foreground",t),...l})}));p.displayName="CardDescription";const w=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,h.cn)("p-6 pt-0",t),...l})}));w.displayName="CardContent";const y=u.forwardRef(((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,h.cn)("flex items-center p-6 pt-0",t),...l})}));y.displayName="CardFooter";var v=t(55903),N=t(52091),b=t(58908),C=t(64399);const k=e=>{let{index:s}=e;const{pidState:t,setPidState:a,pidDisplay:r}=(0,i.Z)(),{connected:c}=(0,i.Z)(),[m,h]=(0,u.useState)(new Array(100).fill({temperature:0,power:0}));(0,u.useEffect)((()=>{}),[r,s,t]);const k=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.RWL,{type:"single",name:"value",label:"Temperature",value:t[s].targetTemperature,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].targetTemperature=e})))},minValue:30,maxValue:200,step:1,disabled:!c}),(0,n.jsx)(l.RWL,{type:"single",name:"value",label:"Active Range",value:t[s].activeRange,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].activeRange=e})))},minValue:0,maxValue:10,step:1,disabled:!c}),(0,n.jsx)(l.RWL,{type:"single",name:"value",label:"Proportional",value:t[s].proportional,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].proportional=e})))},minValue:0,maxValue:10,step:.1,disabled:!c}),(0,n.jsx)(l.RWL,{type:"single",name:"value",label:"integral",value:t[s].integral,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].integral=e})))},minValue:0,maxValue:1,step:.1,disabled:!c}),(0,n.jsx)(l.RWL,{type:"single",name:"value",label:"Derivative",value:t[s].derivative,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].derivative=e})))},minValue:0,maxValue:10,step:.1,disabled:!c})]}),[R,P]=(0,u.useState)(!1),T=(0,n.jsxs)("div",{className:"flex flex-wrap justify-center space-x-1 space-y-1 mb-4",children:[(0,n.jsx)(l.zxk,{onPress:()=>{},hierarchy:"secondary",kind:"outline",label:"90%",size:"small",icon:()=>(0,n.jsx)(b.w$t,{})}),(0,n.jsx)(l.zxk,{onPress:()=>{},hierarchy:"secondary",kind:"outline",label:"90*C",size:"small",icon:()=>(0,n.jsx)(N.YzZ,{})}),(0,n.jsx)(l.zxk,{onPress:()=>{},hierarchy:"primary",kind:"outline",label:"Test",size:"small",icon:()=>(0,n.jsx)(d.WuV,{})}),(0,n.jsx)(l.zxk,{onPress:()=>{a((0,o.Uy)(t,(e=>{e[s].targetTemperature=110,e[s].activeRange=2,e[s].proportional=3.2,e[s].integral=.2,e[s].derivative=5})))},hierarchy:"danger",kind:"outline",size:"small",label:"Reset",icon:()=>(0,n.jsx)(C.Z4w,{})})]});return(0,n.jsxs)(j,{className:"w-auto",children:[(0,n.jsxs)(f,{children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)(g,{children:["Channel ",s+1]}),(0,n.jsx)(l.rsf,{value:t[s].isActive,onChange:e=>{a((0,o.Uy)(t,(t=>{t[s].isActive=e})))},label:"Active"})]}),(0,n.jsx)(v.j,{}),(0,n.jsx)(p,{children:t[s].isActive?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(j,{className:"h-40 bg-white",children:[(0,n.jsx)(l.wWH,{hideLegend:!1,hideXAxis:!0,dataKey:"name",categories:["temperature","power","target"],disableAnimation:!0,hideYAxis:!0,hideTooltip:!1,data:m})," "]})}):(0,n.jsx)(n.Fragment,{children:"This PID channel is currently disabled"})})]}),t[s].isActive?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{children:R?(0,n.jsxs)(n.Fragment,{children:[T,k]}):null}),(0,n.jsx)(y,{onClick:()=>{P(!R)},className:"justify-center",children:R?(0,n.jsx)(x.Faw,{}):(0,n.jsx)(x.Yc6,{})})]}):null]})};var R=t(6011),P=t(24862),T=t(19314),z=t(22845),A=t(11163),I=t(95485),F=t(37039);const S=()=>{const{t:e}=(0,F.$G)(),[s,t]=(0,u.useState)(!1),[r,i]=(0,u.useState)(!1),c=()=>{t(!s),console.log("toggle expand")},o=(0,u.useRef)(null);return(0,u.useEffect)((()=>{if(!s&&o.current){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--navbar-height"),10),s=o.current.getBoundingClientRect().top-e;window.scrollTo({top:s,behavior:"smooth"})}}),[s]),(0,n.jsxs)(R.w,{ref:o,className:"w-full max-w-2xl transform bg-gradient-to-r from-purple-600 to-red-600 transition duration-500 hover:scale-105",children:[(0,n.jsxs)(P.u,{className:"flex h-16 flex-row items-center justify-between",onClick:c,children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(a.YzZ,{className:"ml-4 text-white"}),(0,n.jsx)("h2",{className:"mx-4 font-bold text-white",children:e("Heater")})]}),s?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Ix0,{className:"mr-4 text-white"})}):(0,n.jsx)(x.AeI,{className:"mr-4 text-white"})]}),s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(T.G,{className:"flex w-full flex-col justify-center space-y-4 py-4",children:[(0,n.jsx)(k,{index:0}),(0,n.jsx)(k,{index:1}),(0,n.jsx)(k,{index:2})]}),(0,n.jsx)(z.i,{onClick:c,className:"align-center justify-center",children:(0,n.jsx)(x.rWj,{className:"m-4 text-white"})})]}):null,r&&(0,n.jsx)(l.u_l,{title:"Calibrate flowmeter",size:"small",onClose:()=>i(!1),primaryAction:{label:"OK",onPress:()=>i(!1)},secondaryAction:{label:"Cancel",onPress:()=>i(!1)},autoFocus:!1,children:(0,n.jsx)(l.eBu,{space:4,children:(0,n.jsx)(l.uTp,{size:"medium",children:"Content"})})})]})},V=()=>{const[e,s]=(0,u.useState)(!1),t=()=>{s(!e),console.log("toggle expand")},l=(0,u.useRef)(null);return(0,u.useEffect)((()=>{if(!e&&l.current){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--navbar-height"),10),s=l.current.getBoundingClientRect().top-e;window.scrollTo({top:s,behavior:"smooth"})}}),[e]),(0,n.jsxs)(R.w,{ref:l,className:"my-4 w-full max-w-2xl transform bg-gradient-to-r from-blue-600 to-green-600 transition duration-500 hover:scale-105",children:[(0,n.jsxs)(P.u,{className:"flex h-16 flex-row items-center justify-between",onClick:t,children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(a.E3g,{className:"ml-4 text-white"}),(0,n.jsx)("h2",{className:"mx-4 font-bold text-white",children:"Flowmeter"})]}),e?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Ix0,{className:"mr-4 text-white"})}):(0,n.jsx)(x.AeI,{className:"mr-4 text-white"})]}),e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full flex-grow flex-row items-center justify-evenly space-x-4 py-4",children:[(0,n.jsx)(c,{index:0}),(0,n.jsx)(c,{index:1}),(0,n.jsx)(c,{index:2})]}),(0,n.jsx)(z.i,{onClick:t,className:"align-center justify-center",children:(0,n.jsx)(x.rWj,{className:"m-4 text-white"})})]}):null]})},W=()=>{const{locale:e,locales:s,defaultLocale:t}=(0,A.useRouter)(),[l,a]=(0,u.useState)(!1),{grinderSettings:c}=(0,i.Z)(),o=()=>{a(!l),console.log("toggle expand")},d=(0,u.useRef)(null);(0,u.useEffect)((()=>{if(!l&&d.current){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--navbar-height"),10),s=d.current.getBoundingClientRect().top-e;window.scrollTo({top:s,behavior:"smooth"})}}),[l]);return(0,n.jsxs)(R.w,{ref:d,className:"w-full max-w-2xl transform bg-gradient-to-r from-orange-600 to-yellow-600 transition duration-500 hover:scale-105",children:[(0,n.jsxs)(P.u,{className:"flex h-16 flex-row items-center justify-between",onClick:o,children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(r.nXt,{className:"ml-4 text-white"}),(0,n.jsx)("h2",{className:"mx-4 font-bold text-white",children:"Grinder"})]}),l?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Ix0,{className:"mr-4 text-white"})}):(0,n.jsx)(x.AeI,{className:"mr-4 text-white"})]}),l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.G,{className:"flex w-full flex-col justify-center space-y-4 py-4",children:c.map(((e,s)=>(console.log("Grinder/ create with",{item:e,index:s}),(0,n.jsx)(m,{index:s},s))))}),(0,n.jsx)(z.i,{onClick:o,className:"align-center justify-center",children:(0,n.jsx)(x.rWj,{className:"m-4 text-white"})})]}):null]})},E=()=>(0,n.jsx)(I.default,{children:(0,n.jsxs)("div",{className:" flex flex-col items-center  p-8",children:[(0,n.jsx)(S,{}),(0,n.jsx)(V,{}),(0,n.jsx)(W,{})]})});var _=E}},function(e){e.O(0,[838,396,660,817,509,127,391,365,653,510,415,153,485,774,888,179],(function(){return s=45824,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
//# sourceMappingURL=setting-27889fcaa40ff011.js.map