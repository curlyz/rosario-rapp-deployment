(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(80240)}])},92290:function(e,t,s){"use strict";var l=s(67294),r=s(64331);t.Z=()=>(0,l.useContext)(r.Tp)},80240:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var l=s(85893),r=s(11163),n=s(69968),a=s(83842),o=s(35282);function i(e){let{formula:t,onClickEdit:s,onClick:r,...n}=e;return(0,l.jsxs)("div",{className:"border rounded-xl ".concat(t.backdrop,"  w-full h-full flex flex-col  hover:scale-105 transition-transform duration-200 hover:border-blue-500 flex items-center flex-col justify-center"),onMouseDown:e=>{r()},children:[(0,l.jsx)("div",{className:"absolute top-0 right-0",children:(0,l.jsx)("button",{className:"hover:opacity-50",onMouseDown:e=>{s(),e.preventDefault(),e.stopPropagation()},children:(0,l.jsx)(o.DVr,{size:32,className:"text-white m-1 "})})}),(0,l.jsx)("h1",{className:"text-wrap text-xl text-center select-none",children:t.title})]})}var c=s(67294),u=s(52091),d=s(93513),x=s(26281),f=s(92290);let m=(0,n.WidthProvider)(n.Responsive),h=[];var g=()=>{let[e,t]=(0,c.useState)({}),[s,n]=(0,c.useState)(!1),[o,g]=(0,c.useState)([]),j=(0,r.useRouter)(),{registerFormulaClick:p,registerSelectedFormulaId:y}=(0,f.Z)();(0,c.useEffect)(()=>{g(JSON.parse(localStorage.getItem("fmls")||"[]")),n(!0);let e=JSON.parse(localStorage.getItem("rgl-layout")||"[]");console.log("layout/ loaded",e),t(e)},[]),(0,c.useEffect)(()=>{console.log("fml/ saved",o),localStorage.setItem("fmls",JSON.stringify(o))},[o]);let v=()=>{g((0,d.Uy)(o,e=>{let t={id:(0,x.Vj)(),title:"New Formula",text:"New Formula",color:"gray",backdrop:h[Math.floor(Math.random()*h.length)]};e.push(t),console.log("fml/ create new",t)}))},b=[];return o.map((e,t)=>{let s=(0,l.jsx)("div",{className:"grid-item__title ",children:(0,l.jsx)("div",{className:"w-full h-full",children:(0,l.jsx)(i,{formula:e,onClick:()=>{p(e.id)},onClickEdit:()=>{console.log("edit",t),y(e.id),j.push("/lab")}})})},t);b.push(s)}),b.push((0,l.jsx)("div",{className:"flex flex-col grid-item__title  bg-blue-300 cursor-pointer rounded-xl border bg-gray-300 flex justify-center items-center hover:scale-105 transition-transform duration-200 hover:border-blue-500",children:(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:()=>{v()},children:(0,l.jsx)(u.wEH,{size:32})})},"add")),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.default,{children:(0,l.jsx)(m,{className:"layout relative",layouts:e,useCSSTransforms:!1,draggableHandle:".grid-item__title",breakpoints:{lg:1280,md:992,sm:767,xs:430,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},onLayoutChange:(e,t)=>{s&&(console.log("layout/ save",t),localStorage.setItem("rgl-layout",JSON.stringify(t)))},children:b})})})}},83842:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var l=s(85893),r=s(27136),n=s(61121),a=s(37094),o=s(94554),i=s(92290);s(67294);var c=s(11163),u=()=>{let{connectButtonDisplay:e}=(0,i.Z)(),{selectedPage:t,setSelectedPage:s}=(0,i.Z)(),o=(0,c.useRouter)();return(0,l.jsx)("div",{className:"flex justify-center w-full fixed bottom-0 bg-white z-50",children:(0,l.jsx)(r.eBu,{space:4,children:(0,l.jsxs)("div",{className:"flex justify-between  flex-row",children:[(0,l.jsx)(r.zxk,{hierarchy:"Formula"===t?"primary":"secondary",kind:"transparent",label:"Formula",icon:()=>(0,l.jsx)(n.h1P,{}),onPress:()=>{s("Formula"),o.push("/")}}),(0,l.jsx)(r.zxk,{hierarchy:"Setting"===t?"primary":"secondary",kind:"transparent",label:"Settings",icon:()=>(0,l.jsx)(a.Fnt,{}),onPress:()=>{s("Setting"),o.push("/setting")}})]})})})},d=s(30080),x=()=>{let{connectButtonStyle:e,connectButtonText:t,selectedPage:s}=(0,i.Z)();return(0,l.jsxs)("div",{className:"flex justify-between items-center m-4",children:[(0,l.jsx)(r.s01,{size:"small",children:s}),(0,l.jsx)(r.zxk,{label:t,hierarchy:"primary",icon:()=>(0,l.jsx)(d.Vdu,{}),onPress:()=>{(0,o.s0)()},kind:e})]})},f=e=>{let{children:t}=e;return(0,l.jsxs)(r.Kqy,{space:4,children:[(0,l.jsx)(x,{}),(0,l.jsx)("div",{className:"mb-[56px]",children:t}),(0,l.jsx)(u,{})]})}}},function(e){e.O(0,[838,817,509,365,970,317,968,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);