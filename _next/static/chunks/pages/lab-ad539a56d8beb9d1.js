(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{17503:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lab",function(){return n(23132)}])},23132:function(e,l,n){"use strict";n.r(l);var r=n(85893),o=n(50361),s=n.n(o),t=n(57557),i=n.n(t),d=n(11163),a=n(67294),c=n(87771),u=n(26281),f=n(83842),p=n(15948),x=n(3170);l.default=()=>{(0,d.useRouter)().query.slug;let[e,l]=(0,a.useState)([]),n=e=>{if(0==e.sort((e,l)=>l.order-e.order).length)return 0},o=(0,a.useCallback)(()=>{let r=s()(e);r.push({id:(0,u.Vj)(),type:"grinding",params:{},order:n(e)+1}),l(r),console.log(r)},[e]),t=(0,a.useCallback)(n=>{l(s()(e).filter(e=>(null==e?void 0:e.id)!==n))},[e]);(0,a.useCallback)((n,r)=>{let o=s()(e),t=null==o?void 0:o.find(e=>(null==e?void 0:e.id)===n);if(t){t.type=null==r?void 0:r.stepType;let e=i()(r,"stepType");t.params=null==e?void 0:e.params}l(o)},[e]);let[g,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{h(!0)},[]),(0,r.jsx)(f.default,{children:(0,r.jsxs)("div",{className:"overflow-auto flex flex-col py-3 justify-center items-center mix-w-80 ",children:[(0,r.jsx)(p.Z5,{onDragEnd:n=>{if(!n.destination)return;let r=s()(e),[o]=r.splice(n.source.index,1);r.splice(n.destination.index,0,o),l(r)},onBeforeDragStart:()=>{console.log("onBeforeDragStart")},onDragStart:()=>{console.log("onDragStart")},onDragUpdate:()=>{console.log("onDragUpdate")},children:(0,r.jsx)("div",{className:"flex flex-row w-full",children:(0,r.jsx)(p.bK,{droppableId:"ROOT",children:l=>(0,r.jsxs)("div",{...l.droppableProps,ref:l.innerRef,className:"flex flex-col w-full justify-between mx-auto items-center space-y-4",children:[null==e?void 0:e.map((e,l)=>(console.log("render",{item:e,idx:l}),g&&(0,r.jsx)(p._l,{draggableId:null==e?void 0:e.id,index:l,children:l=>(0,r.jsx)("div",{className:"",...l.dragHandleProps,...l.draggableProps,ref:l.innerRef,children:(0,r.jsx)(x.N,{onDelete:()=>t(null==e?void 0:e.id)})})},null==e?void 0:e.id))),l.placeholder]})})})}),(0,r.jsxs)("button",{className:"flex flex-row space-x-4 justify-center items-center rounded-xl border bg-white cursor-pointer w-80 h-16 my-4 bg-blue-100",onClick:o,children:[(0,r.jsx)(c.OzW,{color:"#1180EF",size:30}),(0,r.jsx)("p",{className:"text-[#1180EF] font-bold text-lg",children:"Add step"})]})]})})}}},function(e){e.O(0,[838,817,509,698,365,594,630,499,199,786,774,888,179],function(){return e(e.s=17503)}),_N_E=e.O()}]);