(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(407)}])},407:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return x}});var t,i,l=o(5893),n=o(1163),a=o(9968),s=o(8979),d=o(5282),g=o(2777),u=o(2290);function b(e){let{formula:r,onClickEdit:o,onClick:t,...i}=e,{draggable:n}=(0,u.Z)();return(0,l.jsxs)("div",{className:"border rounded-xl ".concat(r.backdrop,"  w-full h-full flex flex-col  transition-transform duration-200 hover:border-blue-500  items-center  justify-center shadow-large border border-white cursor-pointer select-none"),onMouseDown:e=>{t(),console.log("profile/ clicked")},children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 flex flex-col  items-center justify-between",children:n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"hover:opacity-50",onMouseDown:e=>{o(),e.preventDefault(),e.stopPropagation()},onTouchStart:e=>{o(),e.preventDefault(),e.stopPropagation()},children:(0,l.jsx)(d.DVr,{size:32,className:"text-white m-1 "})}),(0,l.jsx)("button",{children:(0,l.jsx)(g.uWH,{size:20,className:"text-white m-1 drag-handle"})})]})}),(0,l.jsx)("h1",{className:"truncate text-clip text-balance text-xl text-center select-none text-white",children:r.title})]})}var c=o(7294),p=o(3513),m=o(6281),f=o(8210);o(4554),o(6839),(t=i||(i={})).Espresso="Espresso",t.Teapresso="Teapresso",t.PourOver="PourOver";let h=(0,a.WidthProvider)(a.Responsive),v=["bg-gradient-to-br from-red-900 via-red-600 to-yellow-500","bg-gradient-to-br from-yellow-900 via-yellow-600 to-green-500","bg-gradient-to-br from-green-900 via-green-600 to-blue-500","bg-gradient-to-br from-blue-900 via-blue-600 to-indigo-500","bg-gradient-to-br from-indigo-900 via-indigo-600 to-purple-500","bg-gradient-to-br from-purple-900 via-purple-600 to-pink-500","bg-gradient-to-br from-pink-900 via-pink-600 to-red-500","bg-gradient-to-br from-red-800 via-red-500 to-yellow-500","bg-gradient-to-br from-yellow-800 via-yellow-600 to-green-500","bg-gradient-to-br from-green-800 via-green-600 to-blue-500","bg-gradient-to-br from-blue-800 via-blue-600 to-indigo-500","bg-gradient-to-br from-indigo-800 via-indigo-600 to-purple-500","bg-gradient-to-br from-purple-800 via-purple-600 to-pink-500","bg-gradient-to-br from-pink-800 via-pink-600 to-red-500","bg-gradient-to-br from-red-700 via-red-500 to-yellow-500","bg-gradient-to-br from-yellow-700 via-yellow-600 to-green-500","bg-gradient-to-br from-green-700 via-green-600 to-blue-500","bg-gradient-to-br from-blue-700 via-blue-600 to-indigo-500","bg-gradient-to-br from-indigo-700 via-indigo-600 to-purple-500","bg-gradient-to-br from-purple-700 via-purple-600 to-pink-500","bg-gradient-to-br from-pink-700 via-pink-600 to-red-500","bg-gradient-to-br from-red-600 via-red-500 to-yellow-500","bg-gradient-to-br from-yellow-600 via-yellow-600 to-green-500","bg-gradient-to-br from-green-600 via-green-600 to-blue-500","bg-gradient-to-br from-blue-600 via-blue-600 to-indigo-500","bg-gradient-to-br from-indigo-600 via-indigo-600 to-purple-500","bg-gradient-to-br from-purple-600 via-purple-600 to-pink-500","bg-gradient-to-br from-pink-600 via-pink-600 to-red-500"];var x=()=>{let[e,r]=(0,c.useState)(!1),{formulas:o,setFormulas:t,addFormulaOpen:a,setAddFormulaOpen:d}=(0,u.Z)(),{layout:g,setLayout:x}=(0,u.Z)(),y=(0,n.useRouter)(),{showToast:w}=(0,f.pmc)(),{registerFormulaClick:k,registerSelectedFormulaId:j}=(0,u.Z)(),N=[];Object.values(o).forEach(e=>{let r=(0,l.jsx)("div",{className:"grid-item__title ",children:(0,l.jsx)("div",{className:"w-full h-full",children:(0,l.jsx)(b,{formula:e,onClick:()=>{k(e.id)},onClickEdit:()=>{j(e.id),y.push("/lab")}},e.id)})},e.id);N.push(r)});let{draggable:P}=(0,u.Z)(),[_,E]=(0,c.useState)("New Formula"),[T,C]=(0,c.useState)(i.Espresso);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.default,{children:[(0,l.jsx)("div",{className:"h-[80vh] dark:bg-gray",children:(0,l.jsx)(h,{compactType:null,className:"layout relative",layouts:g,isDraggable:P,isResizable:P,useCSSTransforms:!1,draggableHandle:".drag-handle",breakpoints:{lg:1280,md:992,sm:767,xs:430,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},onLayoutChange:(o,t)=>{if(!e){r(!0);return}x(t)},onDragStart:()=>{console.log("OnDragStart")},children:N})}),a&&(0,l.jsx)(f.u_l,{title:"Add formula",onClose:()=>d(!1),primaryAction:{label:"OK",onPress:()=>{d(!1),function(){let e=(0,m.Vj)();x((0,p.Uy)(g,r=>{var o,t,i;null===(o=r.md)||void 0===o||o.push({i:e,x:0,y:0,w:1,h:2}),null===(t=r.xs)||void 0===t||t.push({i:e,x:0,y:0,w:1,h:2}),null===(i=r.sm)||void 0===i||i.push({i:e,x:0,y:0,w:1,h:2})})),t((0,p.Uy)(o,r=>{let o={id:e,title:_,text:"New Formula",color:"gray",backdrop:v[Math.floor(Math.random()*v.length)]};r[e]=o,console.log("fml/ create new",o)})),console.log("addFormula",{layout:g,formulas:o})}()}},secondaryAction:{label:"Cancel",onPress:()=>d(!1)},children:(0,l.jsxs)(f.Kqy,{space:4,children:[(0,l.jsx)(f.nvn,{label:"Formula Name",value:_,onChange:e=>{E(e)}}),(0,l.jsxs)(f.r5R,{space:4,columns:3,children:[(0,l.jsx)(f.zxk,{hierarchy:"primary",kind:T==i.Espresso?"solid":"outline",label:"Espresso",onPress:()=>{C(i.Espresso)}}),(0,l.jsx)(f.zxk,{hierarchy:"primary",kind:T==i.Teapresso?"solid":"outline",label:"Teapresso",onPress:()=>{C(i.Teapresso)}}),(0,l.jsx)(f.zxk,{hierarchy:"primary",kind:T==i.PourOver?"solid":"outline",label:"Pour over",onPress:()=>{C(i.PourOver)}})]})]})})]})})}}},function(e){e.O(0,[838,396,660,817,509,970,415,281,611,979,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);