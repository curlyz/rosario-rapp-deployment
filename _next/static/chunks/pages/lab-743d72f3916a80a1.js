(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{7503:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lab",function(){return s(7183)}])},7183:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var n=s(5893),r=s(1163),l=s(7294),i=s(6670),a=s(6281),o=s(8979),c=s(5948),d=s(6839),u=s(80),x=s(2780),h=s(9186);let m=l.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,n.jsx)(x.f,{ref:t,decorative:l,orientation:r,className:(0,h.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...i})});m.displayName=x.f.displayName;var p=s(2290),g=s(9600),f=s(2091),j=s(6204),y=s(1054),b=s(8318),v=s(5341),w=s(9151);let k=e=>{let{value:t,onChange:s}=e,[r,a]=(0,l.useState)(!1),{style:o}=(0,p.Z)();(0,l.useEffect)(()=>{a(!1)},[t]);let c=e=>{s(e)},[u,x]=(0,l.useState)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-orange-900 text-xl underline decoration-pink-500 font-bold",onClick:()=>{a(!0)},children:t||"Action"}),r&&(0,n.jsx)(g.u_l,{size:"small",title:"Select an action",onClose:()=>a(!1),primaryAction:{label:"OK",onPress:()=>{a(!1),c(u)}},secondaryAction:{label:"Cancel",onPress:()=>a(!1)},children:(0,n.jsxs)(g.r5R,{space:4,columns:3,children:[(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.Grind?"solid":"outline",label:"Grind",onPress:()=>{x(d.g8.Grind)},icon:()=>(0,n.jsx)(y.nXt,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.Extract?"solid":"outline",label:"Extract",onPress:()=>{x(d.g8.Extract)},icon:()=>(0,n.jsx)(b.bYu,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.Rest?"solid":"outline",label:"Rest",onPress:()=>{x(d.g8.Rest)},icon:()=>(0,n.jsx)(j.qyc,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.Profile?"solid":"outline",label:"Profile",onPress:()=>{x(d.g8.Profile)},icon:()=>(0,n.jsx)(f.p$z,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.PourOver?"solid":"outline",label:"Pour",onPress:()=>{x(d.g8.PourOver)},icon:()=>(0,n.jsx)(v._eR,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.Sound?"solid":"outline",label:"Sound",onPress:()=>{x(d.g8.Sound)},icon:()=>(0,n.jsx)(i.dfw,{})}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:u==d.g8.RGB?"solid":"outline",label:"RGB",onPress:()=>{x(d.g8.RGB)},icon:()=>(0,n.jsx)(w.$Vy,{})})]})})]})};var P=s(7094),C=s(4158);let N=e=>{let{value:t,onChange:s}=e,[r,i]=(0,l.useState)(!1);(0,l.useEffect)(()=>{i(!1)},[t]),(0,C.q)(()=>{s(!1)});let[a,o]=(0,l.useState)(!0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:" font-bold text-xl text-blue-800",onClick:()=>i(!0),children:a?"can skip":"must wait"}),r&&(0,n.jsx)(g.u_l,{autoFocus:!1,size:"small",title:"Set grinder behaviour",onClose:()=>i(!1),primaryAction:{label:"OK",onPress:()=>{i(!1),s(a)}},secondaryAction:{label:"Cancel",onPress:()=>i(!1)},children:(0,n.jsxs)(g.Kqy,{space:8,children:[(0,n.jsxs)(g.r5R,{space:8,columns:2,children:[(0,n.jsx)(g.zxk,{kind:a?"solid":"outline",hierarchy:"primary",label:"Can skip",onPress:()=>o(!0),icon:()=>(0,n.jsx)(P.PCn,{})}),(0,n.jsx)(g.zxk,{kind:a?"outline":"solid",hierarchy:"primary",label:"Must wait",onPress:()=>o(!1),icon:()=>(0,n.jsx)(f.fSQ,{})})]}),(0,n.jsx)(g.jL0,{kind:"informative",title:"Explaination",description:a?"Grinder will skip this step if portafilter is not in position":"Grinder will wait until the portafilter is in position, then it will start grinding "})]})})]})};var T=s(1111);let S=T.fC,F=T.xz,z=l.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...i}=e;return(0,n.jsx)(T.h_,{children:(0,n.jsx)(T.VY,{ref:t,align:r,sideOffset:l,className:(0,h.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});z.displayName=T.VY.displayName;var R=s(3513);let E=e=>{let{text:t}=e;return t.split(" ").map((e,t)=>(0,n.jsx)("h1",{className:"text-xl",children:e},t))};function K(e){let{value:t,onChange:s,progress:r}=e,[i,a]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{c(r),clearTimeout(d.current),d.current=setTimeout(()=>{c(null)},5e3)},[r]),(0,C.q)(()=>{s(10)}),(0,n.jsxs)(S,{onOpenChange:e=>{a(!1!=e)},open:i,children:[(0,n.jsx)(F,{children:(0,n.jsxs)("div",{className:"rounded-lg w-fit h-8 p-2 justify-between items-center flex",onClick:()=>{a(!0)},children:[null!=o&&(0,n.jsx)("h1",{className:" font-bold text-xl text-green-800",onClick:()=>a(!0),children:"".concat((o/1e3).toFixed(1),"/")}),(0,n.jsxs)("h1",{className:" font-bold text-xl text-blue-800",children:[t," ",t<=1?"second":"seconds"]})]})}),(0,n.jsxs)(z,{className:"w-80 rounded-xl border  space-y-8",children:[(0,n.jsx)(P.FMH,{className:"absolute top-2 right-2 text-gray-500",size:20,onClick:()=>{a(!1)}}),(0,n.jsx)(g.RWL,{value:t,onChange:s,label:"Time",type:"single",name:"value",minValue:0,maxValue:60,step:1})]})]})}let A=(e,t)=>{if(void 0===e)return;let s=[],n=0;e.forEach(e=>{n+=e.duration});var r=0,l=0;for(let n of e){for(var i=0;i<n.duration;i+=1){var a=l+(n.value-l)*(i/n.duration);a=Math.round(10*a)/10,t==d.jk.Pressure?s.push({Time:"At ".concat(r+i," seconds"),pressure:a,max:10,min:0}):s.push({Time:"At ".concat(r+i," seconds"),flowrate:a,max:50,min:0})}l=n.value,r+=n.duration}return s},U=e=>{let{segments:t,sensor:s,index:r}=e,{steps:l,setSteps:i}=(0,p.Z)();(0,C.q)(()=>{i((0,R.Uy)(l,e=>{e[r].action.actionType="Profile",e[r].action.segments=e[r].action.segments||[],0==e[r].action.segments.length&&(e[r].action.segments=[{duration:10,value:3}])})),console.log("segments/ initliazed as empty",l[r])});let a=(t||[]).map((e,a)=>(0,n.jsxs)("div",{className:"flex flex-rol flex-wrap",children:[0==a?(0,n.jsx)(E,{text:"First, reach"}):(0,n.jsx)(E,{text:"then"}),(0,n.jsx)(O,{segments:t,sensor:s,setValue:e=>{i((0,R.Uy)(l,t=>{t[r].action.segments[a].value=e}))},idx:a}),0==a?(0,n.jsx)(E,{text:"within"}):(0,n.jsx)(E,{text:"in"}),(0,n.jsx)(K,{progress:t[a].duration,value:t[a].duration,onChange:e=>{i((0,R.Uy)(l,t=>{t[r].action.segments[a].duration=e}))}}),(0,n.jsx)("h1",{className:"text-xl",children:a===t.length-1?".":","})]},a));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{}),(0,n.jsx)("ul",{children:a}),(0,n.jsxs)("div",{className:"flex flex-row space-x-1 p-2  h-6 w-fit rounded-md bg-blue-100 items-center hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,n.jsx)(j.wEH,{color:"#1180EF",size:16,onClick:()=>{console.log("add segment",{segments:t}),i((0,R.Uy)(l,e=>{e[r].action.segments.push({duration:Math.floor(30*Math.random()),value:+(8*Math.random()+2).toFixed(1)})}))}}),(0,n.jsx)(j.iFH,{color:"#1180EF",size:16,onClick:()=>{console.log("remove segment",{segments:t}),void 0!==l[r].action.segments&&(l[r].action.segments.length<2||i((0,R.Uy)(l,e=>(e[r].action.segments.pop(),e))))}})]})]})},_=e=>{let{segments:t,sensor:s}=e,[r,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{i(A(t,s))},[t,s]),(0,n.jsx)("div",{className:"w-full -translate-x-10 hover:scale-120 transition-transform duration-200",children:(0,n.jsx)(g.wWH,{height:300,dataKey:"Time",categories:[s==d.jk.Pressure?"pressure":"flowrate","max","min"],hideLegend:!1,hideXAxis:!0,hideYAxis:!1,data:r,disableAnimation:!0})})},O=e=>{let{segments:t,setValue:s,sensor:r,idx:i}=e,[a,o]=(0,l.useState)(!1),c=r==d.jk.Pressure?"bar":"mg/s";return(0,n.jsxs)(S,{onOpenChange:e=>{console.log("close",e),!1==e&&o(!1)},open:a,children:[(0,n.jsx)(F,{children:(0,n.jsx)("div",{className:"rounded-lg w-fit h-8 p-2 justify-between items-center flex",onClick:()=>{o(!0)},children:(0,n.jsxs)("h1",{className:" font-bold text-xl text-blue-800",children:[t[i].value," ",c]})})}),(0,n.jsxs)(z,{className:"w-96 rounded-xl border min-w-96",children:[(0,n.jsx)(P.FMH,{className:"absolute top-2 right-2 text-gray-500",size:20,onClick:()=>{o(!1)}}),(0,n.jsx)(g.RWL,{value:t[i].value,onChange:e=>{s(e)},label:r===d.jk.Pressure?"Pressure":"Flowrate",type:"single",name:"value",minValue:0,maxValue:r==d.jk.Pressure?10:100,step:.1})]})]})},Y=e=>{let{value:t,onChange:s}=e,[r,i]=(0,l.useState)(!1),[a,o]=(0,l.useState)(d.jk.Flowrate);return(0,l.useEffect)(()=>{i(!1)},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:" font-bold text-xl text-blue-800",onClick:()=>{i(!0)},children:t||"[select type]"}),r&&(0,n.jsx)(g.u_l,{size:"small",title:"Select an profiling method",onClose:()=>i(!1),primaryAction:{label:"OK",onPress:()=>{i(!1),s(a)}},secondaryAction:{label:"Cancel",onPress:()=>i(!1)},children:(0,n.jsxs)(g.Kqy,{space:16,children:[(0,n.jsxs)(g.r5R,{space:8,columns:2,children:[(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:a==d.jk.Flowrate?"solid":"outline",label:"Flowrate",onPress:()=>{o(d.jk.Flowrate)}}),(0,n.jsx)(g.zxk,{hierarchy:"primary",kind:a==d.jk.Pressure?"solid":"outline",label:"Pressure",onPress:()=>{o(d.jk.Pressure)}})]}),(0,n.jsx)(g.jL0,{kind:"informative",title:"What is this ?",description:a==d.jk.Flowrate?"Flowrate is the amount of water that flows through the coffee puck in a given time. It is measured in milliliters per second (ml/s).":"Pressure is the force that the water exerts on the coffee puck. It is measured in bars."})]})})]})};function W(e){let{value:t,onChange:s,progress:r}=e,[i,a]=(0,l.useState)(!1),[o,c]=(0,l.useState)(t),[d,u]=(0,l.useState)(null),x=(0,l.useRef)(null);return(0,l.useEffect)(()=>{u(r),clearTimeout(x.current),x.current=setTimeout(()=>{u(null)},5e3),console.log("Progress is updated for weight",r)},[r]),(0,C.q)(()=>{console.log("Effect Once"),s(22)}),(0,n.jsxs)(n.Fragment,{children:[null!=d&&(0,n.jsx)("h1",{className:" font-bold text-xl text-green-800",onClick:()=>a(!0),children:"".concat((d/10).toFixed(1),"/")}),(0,n.jsxs)("h1",{className:" font-bold text-xl text-blue-800",onClick:()=>a(!0),children:[t.toFixed(1),t<=1?" gram":" grams"]}),i&&(0,n.jsx)(g.u_l,{size:"small",title:"How much ?",onClose:()=>a(!1),primaryAction:{label:"OK",onPress:()=>{a(!1),s(o)}},secondaryAction:{label:"Cancel",onPress:()=>a(!1)},children:(0,n.jsxs)(g.Kqy,{space:8,children:[(0,n.jsx)(g.RWL,{type:"single",name:"weight",value:o,onChange:c,label:"Weight",minValue:0,maxValue:100,step:1}),(0,n.jsx)(g.jL0,{kind:"informative",title:"Reminder",description:"Calibration is required for accurate weight, please go to Settings"})]})})]})}let q=e=>{let{value:t,onChange:s}=e,[r,i]=(0,l.useState)(!1),[a,o]=(0,l.useState)(t);return(0,C.q)(()=>{s(100)}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"rounded-lg w-fit h-8 p-2 justify-between items-center flex",onClick:()=>{i(!0)},children:(0,n.jsxs)("h1",{className:" font-bold text-xl text-blue-800",children:[t," %"]})}),r&&(0,n.jsx)(g.u_l,{size:"small",title:"Set pump power",onClose:()=>i(!1),primaryAction:{label:"OK",onPress:()=>{i(!1),s(a)}},secondaryAction:{label:"Cancel",onPress:()=>i(!1)},children:(0,n.jsxs)(g.Kqy,{space:8,children:[(0,n.jsx)(g.RWL,{type:"single",name:"power",value:a,onChange:o,label:"Pump Power",minValue:0,maxValue:100,step:1}),(0,n.jsx)(g.jL0,{kind:"informative",title:"Notice",description:"Power require an external pump to be connected to the machine, other wise it is simply ON/OFF",action:{label:"Learn more",onPress:()=>{window.open("https://www.google.com")}}})]})})]})},G=e=>{let{value:t,onChange:s}=e;console.log("action/ recreate");let[r,i]=(0,l.useState)(!1),{grinderSettings:a}=(0,p.Z)(),[o,c]=(0,l.useState)(t||"[select grinder]");return(0,C.q)(()=>{s("[select grinder]")}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:" font-bold text-xl text-blue-800",onClick:()=>i(!0),children:o}),r&&(0,n.jsx)(g.u_l,{size:"small",title:"Select ingredient",onClose:()=>i(!1),primaryAction:{label:"OK",onPress:()=>{i(!1),s(o)}},secondaryAction:{label:"Cancel",onPress:()=>i(!1)},children:(0,n.jsxs)(g.Kqy,{space:8,children:[(0,n.jsx)(g.gFv,{space:4,children:a.map((e,t)=>(0,n.jsx)(g.zxk,{kind:o==e.name?"solid":"outline",hierarchy:"primary",label:e.name,onPress:()=>c(e.name)},t))}),(0,n.jsx)(g.jL0,{kind:"informative",title:"Reminder",description:"You can set up your grinder in the settings, the hardware can be connected to the machine wirelessly to the espresso machine",action:{label:"Learn more",onPress:()=>{window.open("https://www.google.com")}}})]})})]})};function V(e){let{onDelete:t,index:s}=e,{steps:r,setSteps:i}=(0,p.Z)(),[a,o]=(0,l.useState)("can skip");return(0,n.jsxs)("div",{className:"flex flex-col  h-fit rounded-xl p-4 max-w-[calc(90vw)] w-96  border hover:border-blue-500  bg-white drop-shadow-xl hover:scale-105 transition-transform duration-200",children:[(0,n.jsx)("div",{className:"absolute top-0 right-0 p-2 cursor-pointer",onClick:()=>t(),children:(0,n.jsx)(u.maG,{className:"text-gray-300"})}),(0,n.jsxs)("div",{className:"inline-flex flex-wrap gap-2 items-center text-wrap max-w-96 space-x-1",children:[(0,n.jsx)(k,{value:r[s].action.actionType,onChange:e=>{i((0,R.Uy)(r,t=>{let n=t[s].action;n.actionType=e;let r=t[s].target;e==d.g8.Grind?r.targetType=d.YK.Weight:e==d.g8.Extract?r.targetType=d.YK.Weight:e==d.g8.Rest?r.targetType=d.YK.Time:e==d.g8.Profile?r.targetType=d.YK.Weight:e==d.g8.PourOver&&(r.targetType=d.YK.Weight),t[s].action=n,t[s].target=r}))}}),"Grind"===r[s].action.actionType&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{progress:r[s].target.current,value:r[s].target.value,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].target.targetType=d.YK.Weight,t[s].target.value=e}))}}),(0,n.jsx)(E,{text:"of"}),(0,n.jsx)(G,{value:r[s].action.ingredient,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].action.ingredient=e}))}}),(0,n.jsx)(E,{text:"bean, grinder"}),(0,n.jsx)(N,{value:r[s].action.canSkip,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].action.canSkip=e,t[s].action.actionType=d.g8.Grind}))}}),!0===r[s].action.canSkip?(0,n.jsx)(E,{text:"this step is portafilter is absent"}):(0,n.jsx)(E,{text:"until portafilter is present"})]}),"Extract"===r[s].action.actionType&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{progress:r[s].target.current,value:r[s].target.value,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].target.targetType=d.YK.Weight,t[s].target.value=e}))}}),(0,n.jsx)(E,{text:"with pump power"}),(0,n.jsx)(q,{value:r[s].action.power,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].action.actionType=d.g8.Extract,t[s].action.power=e}))}})]}),r[s].action.actionType===d.g8.PourOver&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{progress:r[s].target.current,value:r[s].target.value,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].target.targetType=d.YK.Weight,t[s].target.value=e}))}}),(0,n.jsx)(E,{text:"in"}),(0,n.jsx)(K,{value:r[s].action.duration,progress:r[s].target.current,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].action.duration=e}))}})]}),"Rest"===r[s].action.actionType&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{text:"for"}),(0,n.jsx)(K,{value:r[s].target.value,progress:r[s].target.current,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].target.targetType=d.YK.Time,t[s].target.value=e}))}}),r[s].action.valveState&&(0,n.jsx)(E,{text:"but keep valve open"})]}),"Profile"===r[s].action.actionType&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{text:"to extract"}),(0,n.jsx)(W,{progress:r[s].target.current,value:r[s].target.value,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].target.targetType=d.YK.Weight,t[s].target.value=e}))}}),(0,n.jsx)(E,{text:"of espresso using"}),(0,n.jsx)(Y,{value:r[s].action.profilingType,onChange:e=>{i((0,R.Uy)(r,t=>{t[s].action.actionType=d.g8.Profile,t[s].action.profilingType=e}))}}),(0,n.jsx)(U,{index:s,segments:r[s].action.segments,sensor:r[s].action.profilingType}),(0,n.jsx)(_,{segments:r[s].action.segments,sensor:r[s].action.profilingType})]})]})]})}var L=()=>{var e;let t=(0,r.useRouter)();t.query.slug;let[s,u]=(0,l.useState)(-1),[x,h]=(0,l.useState)(-1),[j,y]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!0),{selectedFormulaId:P,registerSelectedFormulaId:C,setFormulas:N,formulas:T,setSelectedPage:S,steps:F,setSteps:z,registerFormulaClick:E}=(0,p.Z)(),[K,A]=(0,l.useState)(!1);return(0,l.useEffect)(function(){A(!0)},[]),(0,l.useEffect)(()=>{console.log("lab/ re-render",P)},[P]),(0,n.jsxs)(o.default,{children:[j&&(0,n.jsxs)(g.u_l,{size:"large",autoFocus:!1,title:"Assign to Button",onClose:()=>y(!1),primaryAction:{label:"Download",onPress:()=>{k(!0),setTimeout(()=>{y(!1)},3e3)}},secondaryAction:{label:"Cancel",onPress:()=>y(!1)},children:[(0,n.jsx)(g.uTp,{size:"medium",children:"This process will save the formula to a physical button on your cofee machine so you don't always need a mobile device connected"}),(0,n.jsxs)("div",{className:"w-full h-32 flex flex-col space-y-4 p-4",children:[(0,n.jsx)(g.r5R,{space:8,columns:3,children:[1,2,3].map((e,t)=>(0,n.jsx)(g.zxk,{label:"Group ".concat(e),hierarchy:"primary",kind:t===s?"solid":"outline",onPress:()=>u(t)},t))}),(0,n.jsx)(g.r5R,{space:8,columns:4,children:[1,2,3,4].map((e,t)=>(0,n.jsx)(g.zxk,{label:"Button ".concat(e),hierarchy:"primary",kind:t===x?"solid":"outline",onPress:()=>h(t)},t))})]})]}),b&&(0,n.jsx)(g.u_l,{title:"Share",onClose:()=>v(!1),primaryAction:{label:"OK",onPress:()=>v(!1)},secondaryAction:{label:"Cancel",onPress:()=>v(!1)},children:(0,n.jsx)(g.uTp,{size:"medium",children:"Content"})}),(0,n.jsxs)("div",{className:"flex flex-col  items-center space-y-4 p-4",children:[(0,n.jsxs)("div",{className:" h-fit  rounded-xl max-w-[calc(90vw)] w-96 p-4 flex flex-col space-y-4 shadow-xl border",children:[(0,n.jsx)(g.nvn,{value:null===(e=T[P])||void 0===e?void 0:e.title,onChange:e=>{N((0,R.Uy)(T,t=>{console.log("Formulas",T,P),t[P].title=e}))},label:"Formula",placeholder:"Untitled formula"}),(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center space-x-1 text-white",children:[(0,n.jsxs)("div",{className:"rounded-xl border flex flex-row justify-evenly items-center bg-white p-4 h-12 w-2/5 cursor-pointer hover:border-blue-500 bg-gradient-to-r from-blue-400 to-emerald-400 text-white select-none",onClick:()=>{E(P)},children:[(0,n.jsx)(f.gmG,{}),(0,n.jsx)("h1",{children:"Play"})]}),(0,n.jsx)("div",{className:"rounded-xl border flex flex-row justify-evenly items-center bg-white p-4 h-12 w-1/5 cursor-pointer hover:border-blue-500 bg-gradient-to-r from-purple-800 via-violet-900 to-purple-800",onClick:()=>{console.log("download"),y(!0)},children:(0,n.jsx)(f.aBF,{})}),(0,n.jsx)("div",{className:"rounded-xl border flex flex-row justify-evenly items-center bg-white p-4 h-12 w-1/5 cursor-pointer hover:border-blue-500 bg-gradient-to-r from-blue-500 to-blue-600",onClick:()=>{v(!0)},children:(0,n.jsx)(f.PPi,{})}),(0,n.jsx)("div",{className:"rounded-xl border flex flex-row justify-evenly items-center bg-white p-4 h-12 w-1/5 cursor-pointer hover:border-blue-500 bg-gradient-to-r from-red-500 to-red-800",onClick:()=>{console.log("delete"),S("Formula"),C(null),N((0,R.Uy)(T,e=>{delete T[P]})),t.push("/")},children:(0,n.jsx)(f.zYX,{})})]})]}),(0,n.jsx)(m,{}),(0,n.jsxs)("div",{className:" flex flex-col py-3 justify-center items-center mix-w-80 ",children:[(0,n.jsx)(c.Z5,{onDragEnd:function(e,t){e.destination&&z((0,R.Uy)(F,t=>{let[s]=t.splice(e.source.index,1);return t.splice(e.destination.index,0,s),t}))},onBeforeDragStart:()=>{console.log("onBeforeDragStart")},onDragStart:()=>{console.log("onDragStart")},onDragUpdate:()=>{console.log("onDragUpdate")},children:(0,n.jsx)("div",{className:"flex flex-row w-full",children:(0,n.jsx)(c.bK,{droppableId:"ROOT",children:e=>(0,n.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"flex flex-col w-full justify-between mx-auto items-center space-y-4",children:[null==F?void 0:F.map((e,t)=>(console.log("render",{item:e,idx:t}),K&&(0,n.jsx)(c._l,{draggableId:null==e?void 0:e.id,index:t,children:s=>(0,n.jsx)("div",{className:"",...s.dragHandleProps,...s.draggableProps,ref:s.innerRef,children:(0,n.jsx)(V,{onDelete:()=>{var t;return t=null==e?void 0:e.id,void z((0,R.Uy)(F,e=>e.filter(function(e){return(null==e?void 0:e.id)!==t})))},index:t})})},null==e?void 0:e.id))),e.placeholder]})})})}),(0,n.jsxs)("button",{className:"flex flex-row space-x-4 justify-center items-center rounded-xl border  cursor-pointer w-80 h-16 my-4 bg-blue-100",onClick:function(){z((0,R.Uy)(F,e=>{e.push({id:(0,a.Vj)(),action:{actionType:d.g8.Rest,valveState:!1},target:{targetType:d.YK.Time,value:10}})}))},children:[(0,n.jsx)(i.OzW,{color:"#1180EF",size:30}),(0,n.jsx)("p",{className:"text-[#1180EF] font-bold text-lg",children:"Add steps"})]})]})]})]})}}},function(e){e.O(0,[838,396,660,817,509,127,391,365,768,594,630,415,281,740,979,774,888,179],function(){return e(e.s=7503)}),_N_E=e.O()}]);