(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{17503:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lab",function(){return r(23132)}])},23132:function(e,l,r){"use strict";r.r(l);var n=r(85893),s=r(49527),o=r(50361),i=r.n(o),a=r(57557),d=r.n(a),t=r(11163),c=r(67294),p=r(87771),u=r(26281),x=r(83842),f=r(15948),g=r(3170);l.default=()=>{(0,t.useRouter)().query.slug;let[e,l]=(0,c.useState)([{id:(0,u.Vj)(),type:"grinding",params:{},order:0},{id:(0,u.Vj)(),type:"profiling",params:{},order:1},{id:(0,u.Vj)(),type:"extracting",params:{},order:2}]),r=e=>e.sort((e,l)=>l.order-e.order)[0].order,o=(0,c.useCallback)(()=>{let n=i()(e);n.push({id:(0,u.Vj)(),type:"grinding",params:{},order:r(e)+1}),l(n),console.log(n)},[e]),a=(0,c.useCallback)(r=>{l(i()(e).filter(e=>(null==e?void 0:e.id)!==r))},[e]),m=(0,c.useCallback)((r,n)=>{let s=i()(e),o=null==s?void 0:s.find(e=>(null==e?void 0:e.id)===r);if(o){o.type=null==n?void 0:n.stepType;let e=d()(n,"stepType");o.params=null==e?void 0:e.params}l(s)},[e]),[j,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{h(!0)},[]),(0,n.jsx)(x.default,{children:(0,n.jsxs)("div",{className:"overflow-auto flex flex-col py-3 justify-center items-center mix-w-80 ",children:[(0,n.jsx)(f.Z5,{onDragEnd:r=>{if(!r.destination)return;let n=i()(e),[s]=n.splice(r.source.index,1);n.splice(r.destination.index,0,s),l(n)},onBeforeDragStart:()=>{console.log("onBeforeDragStart")},onDragStart:()=>{console.log("onDragStart")},onDragUpdate:()=>{console.log("onDragUpdate")},children:(0,n.jsx)("div",{className:"flex flex-row w-full",children:(0,n.jsx)(f.bK,{droppableId:"ROOT",children:l=>(0,n.jsxs)("div",{...l.droppableProps,ref:l.innerRef,className:"flex flex-col w-full justify-between mx-auto items-center space-y-4",children:[null==e?void 0:e.map((e,l)=>(console.log("render",{item:e,idx:l}),j&&(0,n.jsx)(f._l,{draggableId:null==e?void 0:e.id,index:l,children:l=>(0,n.jsx)("div",{className:"",...l.dragHandleProps,...l.draggableProps,ref:l.innerRef,children:(0,n.jsx)(g.N,{onDelete:()=>a(null==e?void 0:e.id),onChange:l=>m(null==e?void 0:e.id,l)})})},null==e?void 0:e.id))),l.placeholder]})})})}),(0,n.jsx)("div",{className:"pb-5",children:(null==e?void 0:e.length)>0&&(0,n.jsxs)("div",{className:"max-w-[350px] w-[350px] flex flex-row justify-between",children:[(0,n.jsx)(s.A,{size:"lg",color:"primary",className:"bg-[#0683FC4D] w-[150px]",children:(0,n.jsx)("p",{className:"text-[#1180EF] font-bold text-lg",children:"Save"})}),(0,n.jsx)(s.A,{size:"lg",color:"primary",className:"bg-[#0683FC4D] w-[150px]",onClick:()=>{console.log(e)},children:(0,n.jsx)("p",{className:"text-[#1180EF] font-bold text-lg",children:"Run"})})]})}),(0,n.jsxs)(s.A,{size:"lg",color:"primary",className:"bg-[#0683FC4D] w-[350px]",onClick:o,children:[(0,n.jsx)(p.OzW,{color:"#1180EF",size:30}),(0,n.jsx)("p",{className:"text-[#1180EF] font-bold text-lg",children:"Add step"})]})]})})}}},function(e){e.O(0,[838,817,509,698,594,630,484,401,786,774,888,179],function(){return e(e.s=17503)}),_N_E=e.O()}]);